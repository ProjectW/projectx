companyProfileApp = angular.module 'companyProfileApp',
  [
    'ngRoute',
    'companyProfileControllers',
    'resources.companies',
    'resources.reviews'
  ]

companyProfileApp.config ["$httpProvider", ($httpProvider) ->
  $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content')
]

companyProfileApp.config ['$routeProvider', ($routeProvider) ->
  $routeProvider
    .when('/',
      templateUrl: '<%= asset_path("angular/student/company_profile/views/searchView") %>',
      controller: 'CompanySearchCtrl'
    )
    .when('/:companyId',
      templateUrl: '<%= asset_path("angular/student/company_profile/views/profileView") %>',
      controller: 'CompanyProfileCtrl',
    )
]
